<!doctype html>
<html lang="en">
<head>
  <!-- Required meta tags -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">

  <title>Update API</title>
</head>
<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
  <ul class="navbar-nav mr-auto">
    <li class="nav-item"><a class="nav-link" href="authenticate.html">Authenticate</a></li>
    <li class="nav-item"><a class="nav-link" href="author.html">Author</a></li>
    <li class="nav-item"><a class="nav-link" href="paper.html">Paper</a></li>
    <li class="nav-item"><a class="nav-link" href="endpoint.html">Endpoint</a></li>
    <li class="nav-item"><a class="nav-link" href="update.html">Update</a></li>
    <li class="nav-item"><a class="nav-link" href="database.html">Database</a></li>
    <li class="nav-item"><a class="nav-link" href="response.html">Response</a></li>
    <li class="nav-item"><a class="nav-link" href="JsonResponse.html">Json Response</a></li>
    <li class="nav-item"><a class="nav-link" href="request.html">Request</a></li>
  </ul>
</nav>
<body>
<div class="container mt-5">
  <h1>Update API</h1>
  <p class="lead">This API allows you to update the award for a specified paper. A valid JWT token is required to access this endpoint.</p>

  <h2>Class Properties</h2>
  <p>Inherits all properties from the <code>endpoint</code> class.</p>

  <h2>Class Methods</h2>
  <p>Inherits all methods from the <code>endpoint</code> class, except for the following:</p>
  <table class="table table-bordered">
    <thead class="thead-light">
    <tr>
      <th>Method</th>
      <th>Description</th>
    </tr>
    </thead>
    <tbody>
    <tr>
      <td><code>__construct()</code></td>
        <td>Validates the request method, token, and update parameters. Connects to the database and initializes the SQL and SQL parameters for the update. Sets the data for the endpoint based on the result of the update.

        Throws
        ClientErrorException: If the request method is invalid, the token is missing or invalid, or the update parameters are missing or invalid.</td>
    </tr>
    <tr>
      <td><code>validateRequestMethod(string $method)</code></td>
      <td>Validates the request method.
        Parameters
        $method (string): The expected request method (e.g. "POST").
        Throws
        ClientErrorException: If the request method is invalid.</td>
    </tr>
    <tr>
      <td><code>validateToken()</code></td>
      <td>Validates the JWT token in the request header.
        Throws
        ClientErrorException: If the token is missing or invalid.</td>
    </tr>
    <tr>
      <td><code>validateUpdateParams()</code></td>
      <td>Validates the update parameters.
        Throws
        ClientErrorException: If the update parameters are missing or invalid.</td>
    </tr>
    </tbody>
  </table>
  <h2>Example Request</h2>
  <h3>Update the award for a paper</h3>
  <pre><code>POST /update
    Content-Type: application/json
Authorization: Bearer [JWT token]

{
"paper_id": 1,
"award": "true"
}</code></pre>
  <h4>Success Response</h4>
  <pre><code>Status: 200 OK

{
"length": 0,
"message": "success",
"data": null
}</code></pre>
  <h4>Error Responses</h4>
  <pre><code>Status: 400 Bad Request

{
"message": "Missing required parameters"
}</code></pre>
  <pre><code>Status: 400 Bad Request

{
"message": "Invalid award value"
}</code></pre>
  <pre><code>Status: 401 Unauthorized

{
"message": "Bearer token required"
}</code></pre>
  <pre><code>Status: 401 Unauthorized

{
"message": "[error message]"
}</code></pre>
  <pre><code>Status: 405 Method Not Allowed

{
"message": "Invalid Request Method"
}</code></pre>
</div>
<!-- Optional JavaScript -->
<!-- jQuery first, then Popper.js, then Bootstrap JS -->
<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous
"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.16.6/dist/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js" integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shuf57BaghqFfPlYxofvL8/KUEfYiJOMMV+rV" crossorigin="anonymous"></script>

</body>
</html>